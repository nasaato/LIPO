<! DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
   <HEAD>
      <meta http-equiv="Content-Language" content="ru">
      <TITLE>Префиксная и постфиксная польская (бесскобочная) форма записи</TITLE>
   </HEAD><LINK href="style.css" rel=stylesheet type=text/css>
   <body bgcolor="#CCCCCC" leftMargin="0" rightMargin="0" topMargin="0">
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber2">
  <tr>
    <td width="9%">&nbsp;</td>
    <td width="41%">&nbsp;</td>
    <td width="41%">&nbsp;</td>
    <td width="9%">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="41%" bgcolor="#FFFFFF">
    <img border="0" src="51x25_topL.JPG" width="51" height="25"></td>
    <td width="41%" bgcolor="#FFFFFF">
    <p align="right">
    <img border="0" src="51x25_topright.JPG" width="51" height="25"></td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="82%" bgcolor="#FFFFFF" colspan="2" rowspan="18">
    <p align="left" style="margin-left: 20">
    <b><font face="Arial" color="#FF0000">Префиксная и постфиксная польская 
    (бесскобочная) форма записи.</font></b></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Обычные арифметические выражения, используемые в 
    повседневной практике и содержащие скобки, называют <b><u>инфиксными</u></b> 
    выражениями, поскольку знак операции располагается между операндами. Порядок 
    выполнения действий в таких выражениях определяется старшинством операций и 
    скобками. Вычисление и компиляция таких выражений подразумевает их 
    предварительный анализ с целью выявления порядка выполнения операций. 
    Существуют формы записи арифметических выражений без скобок, в которых 
    порядок действий задается порядком знаков операций в выражении. Такие формы 
    записи называются <b><u>польской</u></b> или <b><u>бесскобочной</u></b> 
    записью. Польская запись может быть <b><u>префиксной</u></b>, в которой знак 
    операции предшествует операндам, и <b><u>постфиксной</u></b>, в которой знак 
    операции следует за операндом. Вычисление и компиляция бесскобочных 
    выражений оказывается проще, чем выражений со скобками, поскольку операции 
    должны выполняться в порядке описания и предварительный анализ не требуется.
    </font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font face="Arial"><b><u><font size="2" color="#FF0000">Префиксная польская 
    запись</font></u></b><font size="2"> (<font color="#FF0000">ПрПЗ</font>) 
    определяется следующим образом.</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если инфиксное выражение <i>Е</i> представляет 
    собой один операнд <b>а</b>, то ПрПЗ выражения <i>Е </i>– это просто <b>а</b>.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если инфиксное выражение <i>Е</i><sub>1</sub>*<i>Е</i><sub>2</sub>, 
    где * – знак операции, а <i>Е</i><sub>1</sub> и <i>Е</i><sub>2</sub> – 
    инфиксные выражения для операндов, то ПрПЗ этого выражения – это *<i>Е</i><sub>1</sub>'<i>E</i><sub>2</sub>',где
    <i>E</i><sub>1</sub>', <i>E</i><sub>2</sub>' – ПрПЗ выражений <i>Е</i><sub>1</sub> 
    и <i>Е</i><sub>2</sub>.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если (<i>Е</i>) есть инфиксное выражение, то 
    ПрПЗ этого выражения есть ПрПЗ Е.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Перечисленные правила определяют порядок 
    построения ПрПЗ заданного инфиксного выражения. Например, для выражений (<i>a</i> 
    + <i>b</i>) * (<i>c</i> - <i>d</i>) построение ПрПЗ можно выполнить так. 
    Обозначим операнды первой выполняемой операции:</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><span lang="EN-US"><font size="2">E</font></span></i><font size="2"><sub><span lang="EN-US">1</span></sub><span lang="EN-US"> 
    = (<i>a</i> + <i>b</i>) </span>и <i><span lang="EN-US">E</span></i><sub><span lang="EN-US">2</span></sub></font><span lang="EN-US"><font size="2"> 
    = (<i>c</i> - <i>d</i>).</font></span></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Согласно определению префиксная запись выражения
    <i>Е</i><sub>1</sub>*<i>Е</i><sub>2</sub> – это *<i>E</i><sub>1</sub>'<i>E</i><sub>2</sub>', 
    где <i>Е</i><sub>1</sub>',<i>Е</i><sub>2</sub>' – префиксные записи 
    выражений <i>Е</i><sub>1</sub> и <i>Е</i><sub>2</sub>. Выполняя построение 
    постфиксных записей для этих выражений,</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><span lang="EN-US"><font size="2">E</font></span></i><font size="2"><sub><span lang="EN-US">1</span></sub></font><span lang="EN-US"><font size="2">' 
    = +<i>ab</i>, <i>E</i><sub>2</sub>' = -<i>cd</i>,</font></span></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">окончательно получаем результат в виде:</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><font size="2">*+<i>ab</i>-</font><i><font size="2">cd</font></i></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font face="Arial"><b><u><font size="2">Постфиксная запись</font></u></b><font size="2"><u>
    </u>отличается тем, что знак операции ставится непосредственно за 
    операндами. Так, например, инфиксной записи (A+B) соответствует <b><u>
    постфиксная форма</u></b> AB+.</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font face="Arial"><b><u><font size="2" color="#FF0000">Постфиксная польская 
    запись</font></u></b><font size="2"> (<font color="#FF0000">ПоПЗ</font>) 
    определяется следующим образом.</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если инфиксное выражение <i>Е</i> представляет 
    собой один операнд <b>а</b>, то ПоПЗ выражения <i>Е</i> – это <b>а</b>.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если инфиксное выражение <i>Е</i><sub>1</sub>*<i>Е</i><sub>2</sub> 
    , где * – знак операции, <i>E</i><sub>1</sub>, <i>E</i><sub>2</sub> – 
    инфиксные выражения для операндов, то ПоПЗ этого выражения это – <i>Е</i><sub>1</sub>'<i>E</i><sub>2</sub>'*, 
    где Е<sub>1</sub>', E<sub>2</sub> ' – постфиксные выражения <i>Е</i><sub>1</sub> 
    ,<i>Е</i><sub>2</sub> .</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Если (<i>Е</i>) есть инфиксное выражение, то 
    постфиксная запись этого выражения есть постфиксная запись <i>Е</i>. </font>
    </p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Аналогично предыдущему примеру построим ПоПЗ 
    выражения</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <span lang="EN-US"><font size="2" face="Arial">(<i>a</i> + <i>b</i>) * (<i>c</i> 
    - <i>d</i>).</font></span></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Обозначая операнды внешней операции</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><span lang="EN-US"><font size="2">E</font></span></i><font size="2"><sub><span lang="EN-US">1</span></sub><span lang="EN-US"> 
    = (<i>a</i> + <i>b</i>) </span>и <i><span lang="EN-US">E</span></i><sub><span lang="EN-US">2</span></sub></font><span lang="EN-US"><font size="2"> 
    = (<i>c</i> - <i>d</i>)</font></span></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">найдем постфиксные записи операндов, которые 
    имеют вид:</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><font size="2">E</font></i><font size="2"><sub>1</sub>' 
    = <i>ab</i>+ и <i>E</i><sub>2</sub>' = <i>cd</i>-</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Подставляя полученные постфиксные записи в 
    выражение</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><span lang="EN-US"><font size="2">E</font></span></i><font size="2"><sub>1</sub>'<i><span lang="EN-US">E</span></i><sub>2</sub>'*</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">окончательно получаем:</font></p>
    <p class="MsoBodyText" style="margin-left: 50; margin-right: 20" align="justify">
    <font face="Arial"><i><font size="2">ab</font></i><font size="2">+<i>cd</i>-*</font></font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Постфиксная запись выражений обладает двумя 
    ценными свойствами, благодаря которым ее широко используют в компиляторах:</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Для записи любого выражения не нужны скобки. Так 
    как оператор непосредственно следует за операндами, участвующими в операции, 
    неопределенность в указании операндов отсутствует. Например, выражение (<i>A</i>+<i>B</i>)+<i>C</i> 
    имеет постфиксную форму <i>AB</i>+<i>C</i>+, а выражение <i>A</i>+(<i>B</i>+<i>C</i>) 
    представляется в форме <i>ABC</i>++.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">К моменту считывания очередного оператора 
    соответствующие операнды уже были прочитаны. Поэтому оператор может быть 
    выполнен без считывания каких-либо дополнительных данных.</font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Сказанное выше относится к бинарным операциям, 
    однако это нетрудно распространить на унарные операции. Так, унарный 
    оператор отрицания (эту операцию будем обозначать знаком ~) просто ставят 
    непосредственно за аргументом. Например, инфиксная запись ~<i>A</i> 
    представляется в форме <i>A</i>~, а выражение ~(<i>A</i>+<i>B</i>) 
    преобразуется в <i>AB</i>+~. (Заметим, что знак &quot;-&quot; может стоять в инфиксной 
    записи, указывая как бинарную, так и унарную операцию, и его правильный 
    смысл становится очевидным из контекста. В постфиксной записи это сделать 
    труднее. </font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">Благодаря описанным выше свойствам выражение в 
    постфиксной форме может быть вычислено с помощью простого алгоритма: </font>
    </p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">
    while(lex != NULL) // пока в выражении еще есть лексемы</font></p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">{</font></p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">&nbsp;&nbsp; 
    lex = getNextLex(); // считать следующую лексему</font></p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">&nbsp;&nbsp; 
    if(isOperand(lex)) // лексема есть операнд</font></p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; 
    push(lex); // записать лексему в стек</font></p>
    <p class="a" style="margin-left: 50"><font size="2" face="Courier New">&nbsp;&nbsp; 
    if(isOperator(lex)) // лексема есть оператор</font></p>
    <p class="a" style="margin-left: 50"><font face="Courier New">
    <font size="2">&nbsp;&nbsp;&nbsp;&nbsp; </font><span lang="EN-US"><font size="2">
    push(performOperation(lex, pop(), pop()));</font></span></font></p>
    <p class="a" style="margin-left: 20; margin-right: 20" align="justify">
    <span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp; </span><font size="2" face="Arial">/* выполнить 
    указанную лексемой операцию над последними элементами, записанными в стек, и 
    заменить эти элементы результатом операции;</font></p>
    <p class="a" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">&nbsp;&nbsp;&nbsp;&nbsp; */</font></p>
    <p class="a" style="margin-left: 50; margin-bottom: 6.0pt">
    <font size="2" face="Courier New">}</font></p>
    <p class="MsoBodyText" align="justify" style="margin-left: 20; margin-right: 20">
    <font size="2" face="Arial">В результате вычислений значение выражения 
    оказывается единственным элементом стека.</font></p>
    <p class="MsoBodyText" align="justify" style="margin-left: 20; margin-right: 20">
    <font size="2" face="Arial">Такой алгоритм, выполняющий операции над стеком, 
    лежит практически в основе любого компилятора. Обычно 
    <a href="page_9_1.html" target="mainFrame">блок синтаксического 
    анализа</a> преобразует программу в постфиксную форму, после чего генератор кода 
    строит объектную программу, просматривая выражения вышеописанным методом.
    </font></p>
    <p class="MsoBodyText" align="justify" style="margin-left: 20; margin-right: 20">
    <font size="2" face="Arial">Очевидно, что вычисление постфиксной записи 
    выражения не представляет трудности, <a href="page_15_2.html" target="mainFrame">преобразование же инфиксной записи в 
    постфиксную</a> заметно сложнее. Предположим, что продукция языка имеет вид</font></p>
    <p class="MsoBodyText" style="margin-left: 50"><i><span lang="EN-US">A
    </span><span style="font-family:Symbol">®</span><span lang="EN-US"> B</span></i><span lang="EN-US">
    </span>и <i><span lang="EN-US">C</span></i></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <font size="2" face="Arial">где <i>A</i>, <i>B</i> и <i>C</i> являются 
    <a href="page_2_4.html" target="mainFrame">нетерминалами</a>, а &quot;и&quot; – 
    <a href="page_2_4.html" target="mainFrame">терминал</a>. Будем считать, что знаки операций являются 
    терминалами. Тогда эта продукция означает, что нетерминал <i>A</i> является 
    инфиксной записью, в которой участвуют операнды <i>B</i> и <i>C</i> вместе с 
    оператором &quot;и&quot;. Следовательно, постфиксная форма выражения образуется из 
    операндов <i>B</i>, <i>C</i>, за которыми следует оператор &quot;и&quot;. Таким 
    образом, для данной продукции постфиксная запись имеет вид </font></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <b><font size="2" face="Arial" color="#FF0000">Постфиксная запись для B</font></b></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <b><font size="2" face="Arial" color="#FF0000">Постфиксная запись для C</font></b></p>
    <p class="MsoBodyText" style="margin-left: 20; margin-right: 20" align="justify">
    <b><font face="Arial" color="#FF0000">и</font></b></p>
    <p style="margin-left: 20; margin-right: 20" align="justify">
    <span style="font-size: 10.0pt; font-family: Arial">Если терминальные 
    символы выводятся в выходной файл в таком порядке, то все фразы языка будут 
    представлены в постфиксной форме.</span></td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">&nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="41%" bgcolor="#FFFFFF">
    <img border="0" src="51x25_LEFT.JPG" width="51" height="25"></td>
    <td width="41%" bgcolor="#FFFFFF">
    <p align="right"><img border="0" src="51x25r.JPG" width="51" height="25"></td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  <tr>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="41%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="41%" bgcolor="#CCCCCC">
    &nbsp;</td>
    <td width="9%" bgcolor="#CCCCCC">
    &nbsp;</td>
  </tr>
  </table>


</HTML>